.\" Manpage for kalc
.TH KALC 1 "April 2025" "kalc 1.0" "User Commands"
.SH NAME
kalc \- powerful CLI calculator and grapher
.SH SYNOPSIS
.B kalc
[\fIOPTIONS\fR] [equation1] [equation2] [...]
.SH DESCRIPTION
.B kalc
is a command-line calculator supporting symbolic math, plotting, unit calculations, complex numbers, matrices, statistics, probability distributions, and more.

It saves history, configuration, and variable files in:
.PP
- History: \fI$config_dir/kalc/kalc.history\fR
.br
- Config: \fI$config_dir/kalc/kalc.config\fR
.br
- Permanent Vars/Functions: \fI$config_dir/kalc/kalc.vars\fR
.PP
Sample config files and examples are available in the source repository.

.SH OPTIONS
.TP
\fB--help\fR
Show general help message.
.TP
\fB--man\fR
Prints a kalc.1 manpage
.TP
\fB--help \fIthing\fR
Show detailed help for a specific function or feature.
.TP
\fB--interactive\fR, \fB-i\fR
Enter interactive mode after evaluating given expressions.
.TP
\fB--units\fR
Toggle unit calculations.
.TP
\fB--notation=\fIe/E/s/n\fR
Set scientific notation style: 3e2, 3E2, 3×10^2, or 300.
.TP
\fB--graph=\fInormal/domain/domain_alt/depth/flat/none\fR
Change graphing style.
.TP
\fB--label=\fIx,y,z\fR
Set axis labels for graphs.
.TP
\fB--angle=\fIdeg/rad/grad\fR
Set angle unit.
.TP
\fB--2d=\fInum\fR
Number of points to graph in 2D.
.TP
\fB--3d=\fIx,y\fR
Number of points to graph in 3D.
.TP
\fB--xr=, --yr=, --zr=\fImin,max\fR
Set graphing ranges.
.TP
\fB--range=\fInum\fR
Set all graph ranges to [-num,num].
.TP
\fB--vxr=, --vyr=, --vzr=\fImin,max\fR
Override visible graphing ranges.
.TP
\fB--vrange=\fInum\fR
Override visible range on all axes.
.TP
\fB--gnuplot\fR
Use external gnuplot for graphing.
.TP
\fB--saveto=\fIfilename\fR
Save graph output to file (PNG).
.TP
\fB--color=\fItrue/false/auto\fR
Toggle color output.
.TP
\fB--polar\fR
Display polar vectors.
.TP
\fB--prec=\fInum\fR
Set calculation precision (default 512 bits).
.TP
\fB--deci=\fInum\fR
Set decimal display length.
.TP
\fB--frac\fR
Display fractions where possible.
.TP
\fB--multi\fR, \fB--tabbed\fR
Matrix display modes.
.TP
\fB--surface\fR
Show colored 3D surfaces.
.TP
\fB--scalegraph\fR
Scale graphs based on terminal size.
.TP
\fB--siunits\fR
Force SI base units.
.TP
\fB--keepzeros\fR
Keep trailing zeroes.
.TP
\fB--progress\fR
Show graphing progress.
.TP
\fB--vars\fR
Disable loading default variables and kalc.vars.
.TP
\fB--default\fR
Ignore kalc.vars and use default settings.

Many more options available, see \fB--help\fR for a full list.

.SH USAGE
You can execute multiple equations as arguments or run interactively.
Common commands:
.IP
- Use \fBans\fR or \fB_\fR for previous result.
.br
- Define variables with \fBa = {expr}\fR.
.br
- Define functions with \fBf(x) = {expr}\fR.
.br
- Plotting by appending \fB#\fR to expressions: e.g., \fBsin(x)#\fR
.br
- Clear screen: \fBclear\fR
.br
- Exit: \fBexit\fR
.br
- History: \fBhistory [search]\fR
.br
- List variables: \fBvars\fR
.br
- Temporary setting override: \fBoption/var;function\fR
.br
- Use \fBhelp\fR inside kalc for full language guide.

.SH INSTALLATION
.TP
.B Linux
Use the AUR or:
.IP
\fBcargo install kalc\fR
.TP
.B Windows
Download \fBkalc.exe\fR from GitHub releases. Needs a modern terminal (e.g., Windows Terminal or Alacritty). Install gnuplot via \fBwinget\fR or Sourceforge.
.TP
.B macOS
Install Xcode tools:
.IP
\fBxcode-select --install\fR
.IP
Then:
.IP
\fBbrew install gnuplot\fR
.br
\fBcargo install kalc\fR
.IP
May need to suppress gnuplot warnings: \fBkalc 2> /dev/null\fR

.SH BUILD INSTRUCTIONS
If encountering \fBgmp-mpfr-sys\fR build issues, in Cargo.toml change:
.IP
\fBfeatures = ["force-cross"]\fR
to
\fBfeatures = ["use-system-libs"]\fR
.TP
.B Linux
Requires Rust ≥1.79.0, diffutils, gcc, m4, make:
.IP
\fBgit clone https://github.com/bgkillas/kalc\fR
.br
\fBcd kalc\fR
.br
\fBcargo build --release\fR
.TP
.B Windows
Follow [gmp-mpfr-sys] guide for MSYS2 and cargo setup.
.TP
.B macOS
Ensure no spaces in build path, then standard build procedure.

.SH FILES
.TP
.I $config_dir/kalc/kalc.history
History of past calculations.
.TP
.I $config_dir/kalc/kalc.config
Configuration options.
.TP
.I $config_dir/kalc/kalc.vars
Permanent user-defined variables and functions.

.SH SEE ALSO
.BR cargo (1),
.BR gnuplot (1)

.SH AUTHOR
Written by bgkillas.
.PP
Source code available at: https://github.com/bgkillas/kalc